function random(t,a){return Math.floor(Math.random()*(a-t+1))+t}function randomRGB(){const t=random(1,80)/100,a=random(40,120),o=random(40,120),n=random(40,170);return`rgba(${a}, ${o}, ${n}, ${t})`}function createStars(){for(let t=0;t<numberOfStars;t++)stars.push({x:random(0,width),y:random(0,height),size:random(1,4)/2,color:randomRGB(),fadeSpeed:.02*Math.random()+.005})}function drawShootingStars(){const t=Date.now();for(let t=shootingStars.length-1;t>=0;t--){const a=shootingStars[t];drawObject(a),isOutBound(a)&&shootingStars.splice(t,1)}t>nextShootingStarTime&&(createShootingStars(),nextShootingStarTime=t+random(5e3,1e4))}function createShootingStars(){for(let t=0;t<numberOfShootingStars;t++)shootingStars.push({x:random(0,width),y:random(0,height),size:random(1,4)/2,color:"rgb(150,150,255)",speed:random(5,10),distance:random(width/2,width),angle:random(0,360),curve:.1*Math.random()+.05,type:"shootingStar"})}function drawObject(t){ctx.save(),ctx.beginPath(),ctx.arc(t.x,t.y,t.size,0,2*Math.PI),ctx.fillStyle=t.color,ctx.globalAlpha=t.color[3],ctx.shadowColor="white",ctx.shadowBlur=10,ctx.fill(),"shootingStar"===t.type&&(t.x+=Math.cos(t.angle)*t.speed,t.y+=Math.sin(t.angle)*t.speed,t.x+=Math.cos(t.angle)*t.curve,t.y+=Math.sin(t.angle)*t.curve,Math.sqrt(Math.pow(t.x-shootingStars[0].x,2)+Math.pow(t.y-shootingStars[0].y,2))>t.distance&&(t.x=shootingStars[0].x,t.y=shootingStars[0].y)),ctx.restore()}function drawStars(){for(const t of stars)drawObject(t)}function isOutBound(t){return t.x<0||t.x>width||t.y<0||t.y>height}function background(){ctx.beginPath(),ctx.rect(0,0,width,height),ctx.fillStyle="rgb(5,5,15)",ctx.fill()}function blinkStars(){for(const t of stars)t.color=randomRGB()}function fadeOutStars(){for(const t of stars)t.color=t.color.replace(/\d?\.?\d+\)$/g,`${Math.max(parseFloat(t.color.match(/\d?\.?\d+\)$/g)[0])-t.fadeSpeed,0)})`)}function animate(){let t=Date.now();t-lastBlinkTime>frequencyOfTwinkle&&(fadeOutStars(),blinkStars(),lastBlinkTime=t),ctx.clearRect(0,0,width,height),background(),drawStars(),drawShootingStars(),requestAnimationFrame(animate)}const canvas=document.getElementById("stars"),ctx=canvas.getContext("2d"),width=canvas.width,height=canvas.height,numberOfStars=random(100,150),numberOfShootingStars=random(10,20),frequencyOfTwinkle=180,stars=[],shootingStars=[];let nextShootingStarTime=Date.now();createStars(),createShootingStars(),background();let lastBlinkTime=Date.now();animate();